<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name ="viewport" content ="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">
	<meta name="viewport" content="width=device-width,user-scalable=yes">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no">
    <title>双11转风车享好礼！</title>
	<link rel="stylesheet" type="text/css" href="css/windmill.css?v=1911141802">
	<link rel="stylesheet" type="text/css" href="css/popup.css?v=1911141802">
	<script src="js/common.js?v=1911141802" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="js/fastclick.js?v=1911141802"></script>
	<script src="js/sethtml.js?v=1911141802"></script>
	<script src="js/jquery-2.1.1.min.js"></script>
	<style>
		.popup-wrap {z-index: 9999; color: #666;}
		.popup-wrap .popup-close {height: 20px; line-height: 25px}
		.popup-mask {z-index: 999}
  </style>
</head>

<body>
	<div class="wrapper w1">
		<!-- <div class="bannerWrap w1">
			<div class="banner1 w1"></div>
		</div> -->
		<img alt="" class="titleimg">
		<div class="conWrap w1">
			<div class="content w1">
				<div class="title">信游LOGO释义</div>
				<div class="info logoInfo">
					2000多年前，古老又聪慧的中国劳动者就已利用风车进行提水灌溉、碾磨谷物等劳作；而在节庆之日，它又遍布大街小巷，小小的风轮旋转祈风调雨顺：它的小鼓声声喻和谐之音：它那红黄蓝绿的彩条是阳光，大地和蓝天的象征，百姓称它吉祥轮，代表了勤劳和吉祥；信游选用风车作为自己的LOGO，也将风车融入到公司企业文化当中，十年磨剑，深耕彩票市场，借此双11之机，也希望把幸福和吉祥传递给长期支持我们的用户！
				</div>
				<div class="title">活动时间、内容</div>
				<div class="info timeInfo">
					<!-- 2018年11月11日00:00 - 2018年11月25日23:59
					<p>
						用户在活动页面点击“启动按钮”，此时风车转盘开始旋转，而对应的7个奖项灯会不停闪烁，直至风车停止旋转，此时指示灯会停留在唯一对应的最终奖励优惠中，并弹出优惠窗口，客户点击确认按钮后，奖励会移动到礼品箱中；
					</p>
					<table class="rt">
						<tr>
							<td>彩票流水要求</td>
							<td>风车转动次数</td>
						</tr>
						<tr>
							<td>111</td>
							<td>1次</td>
						</tr>
						<tr>
							<td>1111</td>
							<td>1次</td>
						</tr>
						<tr>
							<td>11111</td>
							<td>1次</td>
						</tr>
						<tr>
							<td>111111</td>
							<td>1次</td>
						</tr>
					</table> -->
				</div>
				<div class="conInfo clearfix">
					<div class="conR fl">
						<img class="r1" src="images/windmill/routte_01@2x.png" alt="">
						<img class="r2" src="images/windmill/4-2.png" alt="">
						<img class="r3" src="images/windmill/routte_04@2x.png" alt="">
						<i class="light lt1"></i>
						<i class="light lt2"></i>
						<i class="light lt3"></i>
						<i class="light lt4"></i>
						<i class="light lt5"></i>
						<i class="light lt6"></i>
						<i class="light lt7"></i>
						<i class="light lt8"></i>
					</div>
					<div class="conL fl">
						<img id="wind" class="l1" src="images/windmill/windmill_01@2x.png" alt="">
						<img class="l2" src="images/windmill/windmill_02@2x.png" alt="">
						<button id="doTurn" class="l3" alt="">点击启动(还有<i class="times">0</i>次机会)</button>
					</div>
				</div>
				<div class="listWrap">
					<ul class="prizeList">
						<li>
							<span>
								奖励类型
							</span>
							<span>最低充值</span>
							<span>投注要求</span>
							<span>比例</span>
							<span>
								<span class="middle">奖金或上限</span>
							</span>
							<span>流水倍数</span>
							<span>中奖日期</span>
							<span>操作</span>
						</li>
						<!-- <li>
							<span>彩票充值送</span><span>100</span><span></span><span>11%</span><span>11</span><span>10倍</span><span>2018-11-01</span><span><button type="button" class="cp btn" href="javascript:" data-id="64">立即领取</button></span>
						</li> -->
					</ul>
				</div>

				<div class="title">活动规则</div>
				<div class="ruleList mat info"></div>
				<!-- <ul class="ruleList info mat">
					<li>
						1.&nbsp;此活动面向信游所有会员，活动总计15天，会员仅需要在活动期间，达到每天最低投注111元的记录，就可自动获取参与资格；
					</li>
					<li>
						2.&nbsp;针对充值送的优惠，客户在充值后，仅需在活动页面点击申请按钮，奖金会加到对应钱包，此时该钱包会被锁定，资金无法转出；直到达到活动相应的流水要求或者在本金低于1元的情况下，才可以解锁钱包并进行资金操作；
					</li>
					<li>
						3.&nbsp;会员每日最多可获4次风车转动机会，仅需111+1111+11111+111111=123444元流水即可包揽4次机会；
					</li>
					<li>
						4.&nbsp;彩票充值送-用户充值100元即可获赠11元存送礼金，达到礼金10倍流水即可提款；流水要求必须是信游欢乐分分彩,幸福三分彩，幸福快三，夺金120秒；
					</li>
					<li>
						5.&nbsp;体育充值送-只针对信游沙巴体育平台；用户充值100元即可获赠11元存送礼金，本金+礼金在沙巴体育平台达到6倍-共计666元流水即可提款；
					</li>
					<li>
						6.&nbsp;棋牌体验金-只针对信游开元棋牌平台，6元体验金达到6倍-共计36元棋牌流水即可申请提款；
					</li>
					<li>
						7.&nbsp;捕鱼体验金-只针对信游AG平台捕鱼游戏产品，6元体验金达到6倍-共计36元捕鱼流水即可申请提款；
					</li>
					<li>
						8.&nbsp;电游充值送-只针对信游PT电游产品；用户充值100元即可获赠38元存送礼金，最高可得111元，本金+礼金在信游AG/PT电游达到10倍流水即可提款；举例：用户充值292元即可获得最高111元的礼金，只需要4030元流水即可申请提款；
					</li>
					<li>
						9.&nbsp;真人投注送-只针对信游AG平台真人游戏产品，客户单日在真人投注满200元即可领取8元投注送礼金，8元礼金达到6倍-共计48元真人流水即可申请提款；
					</li>
					<li>
						10.&nbsp;每位玩家只能享有一次优惠，且同一住址、电话号码﹑电子邮箱地址、IP（例如网吧，其他公共用计算机）﹑支付方式(相同借记卡/银行帐户姓名及号码) 仅适用一次活动优惠，若玩家有重复申请（如关联账号）之行为，信游将保留或取消玩家优惠彩金的权利；
					</li>
					<li>
						11.&nbsp;平台保有修改活动以及解释活动之权利。
					</li>
				</ul> -->
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/popup.js?v=1911141802"></script>
	<script type="text/javascript">
		initHtml(function(data, rule) {
			if (data.ruleDetails) {
				$('.ruleList').html(JSON.parse(data.ruleDetails).rule)
			}
			$('.timeInfo').html(rule.content)
			$('.titleimg').attr('src', data.bgpic)
			$(document.body).css('background-color', '#' + data.bgcolor)
		})

	$(function() {
    FastClick.attach(document.body);
		query();
		// 领取奖金
		$(document.body).on('click', '.btn', function(){
    		var $this = this;
    		var index = parseInt($($this).attr("data-id"));
		    drawPrize ($this, index);
		});
		var remaining = 0
		// 查询
		function query(){
			$.ajax({
				url: prefix + "/api-user/activity/getUserWindmill",
			    jsonp: "callback",
			    dataType: "json",
			    async: true,
			    data: {
						uuid: getQueryVariable('uuid')
					},    //参数值
			    type: "GET",   //请求方式
			    beforeSend: function() {
			        //请求前的处理
			    },
			    success: function(req) {
			    	if ( req.success == 1 ) {
			    		// window.alert(req.remainingNumber)
			    		remaining = Number(req.remainingNumber) || 0;
			    		$('.times').html(remaining);
			    		var arr = req.windmillPrize;
			    		if ( req.windmillPrize.length > 0 ) {
			    			$('.prizeList').attr('block','display');
			    			for(i in arr) {
							    var html = '<li><span>' + arr[i].type + '</span><span>' + arr[i].minRecentAmount + '</span><span>'+ arr[i].buyAmount+'</span><span>'+ arr[i].rate + '</span><span>' + arr[i].maxPrize +'</span><span>'+ arr[i].buyNumber +'</span><span>' + arr[i].date + '</span><span><button type="button" class="cp btn" href="javascript:" data-id="' + arr[i].entry + '">领取</button></span></li>';
							    $('.prizeList').append(html)
								}
			    		}

			    	}else{
			    		window.alert('未登录！')
			    	}
			    }
			});
		}

		$('#doTurn').click(function () {
				if( remaining <= 0) {
					window.alert('剩余次数已经用完')
			    return;
				}
			  doTurn(AfterdoTurn);
			  // t(AfterdoTurn);
		 })

   //  function t (fn) {
   //  	result = 2
  	// 	if (result == 1 || result == 2 || result == 3  ) {
  	// 		resultCopy = result - 1
  	// 	} else {
  	// 		resultCopy = result
  	// 	}
			// remaining--;
			// n = 0
			// i = 1
  	// 	fn()
   //  }
		// AfterdoTurn()
		function AfterdoTurn () {
			$('#wind').addClass('turn');
			$('.r3').addClass('turn');
			lightsFlash(40)
			setTimeout(function(){
				$('#wind').removeClass('turn');
				$('.r3').removeClass('turn');
				$("#doTurn").attr('disabled',false);
			},5100);
		}
		// 转风车
		var obj = {
			'1': '彩票充值送',
			'2': '棋牌体验金',
			'3': '体育充值送',
			'4': '电游充值送',
			'5': '真人投注送',
			'6': '捕鱼体验金',
			'7': '谢谢参与'
		}
		result =  1
		resultCopy = 0
		function doTurn (fn) {
			$("#doTurn").attr('disabled',true);
			$.ajax({
			    url: prefix + "/api-user/activity/getWindmillPrize",
			    jsonp: "callback",
			    dataType: "json",
			    async: true,
			    data: {
						uuid: getQueryVariable('uuid')
					},    //参数值
			    type: "GET",   //请求方式
			    beforeSend: function() {
			        //请求前的处理
			    },
			    success: function(req) {

			    	if ( req.success == 1 ) {
			    		result = Number(req.prizeType)
			    		if (result == 1 || result == 2 || result == 3  ) {
			    			resultCopy = result - 1
			    		} else {
			    			resultCopy = result
			    		}
							remaining--;
							n = 0
							i = 1
			    		fn()
			    	} else {
		    			window.alert(req.msg)
		    			location.reload()
			    		// var popup = new Popup({
					    //     'type': 'submit',
					    //     'title': '提示信息',
					    //     'text': req.msg,
					    //     'submitCallBack': function(){
			    		// 						location.reload()
									//       },
									//       'closeCallBack': function(){
			    		// 						location.reload()
									//       }
					    // })
			    	}
			    }
			});
		}
		// 领取
		function drawPrize ($this,index) {
			$.ajax({
			    url: prefix + "/api-user/activity/finishWindmillPrize",
			    jsonp: "callback",
			    dataType: "json",
			    async: true,
			    data: { "entry": index, uuid: getQueryVariable('uuid') },    //参数值
			    type: "GET",   //请求方式
			    beforeSend: function() {
			        //请求前的处理
			    },
			    success: function(req) {
			    	if ( req.success == 1 ) {
			    		$($this).html('已领取').attr('disabled',true);
			    	}
			    	window.alert(req.msg)
			    	location.reload()
		    		// var popup = new Popup({
				    //     'type': 'submit',
				    //     'title': '提示信息',
				    //     'text': req.msg,
				    //     'submitCallBack': function(){
			    	// 							location.reload()
								// 	      },
								// 	      'closeCallBack': function(){
			    	// 							location.reload()
								// 	      }
				    // })

			    }
			});
		}

		//灯闪烁
		var n = 0
		var i = 1
		function lightsFlash (t) {
			// body...
			setTimeout(function() {
				i++;
				if (i === 9 ) {i = 1}
				$('.conR').removeClass('b8').removeClass('b' + (i - 1)).addClass('b' + i);
				n = n + 1;
				if (n < (104 + resultCopy) ) {
					lightsFlash(t)
				} else {
					//
					setTimeout(function(){
						window.alert('您抽中的是' + obj[result + ''] + '!')
					  location.reload()
					}, 1000)
					// var popup = new Popup({
				 //        'type': 'submit',
				 //        'title': '提示信息',
				 //        'text': '您抽中的是"' + obj[result + ''] +'"!',
				 //        'submitCallBack': function(){
				 //        	location.reload();
				 //        }
				 //    })
				}
			}, t || 500)
		}
	 });

	</script>
</body>
</html>